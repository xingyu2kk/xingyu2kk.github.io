<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding:0;
        }
        html,body {
            width: 100%;
            background: #000;
            color: #fff;
            font-size: 24px;
        }
        input {
            width: 30px;
            height: 30px;
            margin:10px;
            cursor:pointer;
        }
        .title {
            width: 100%;
            height: 200px;
            line-height: 200px;
            text-align: center;
            font-size: 42px;
            color: #fff;
        }
        .text_intro {
            width: 100%;
            height: 100px;
            position: absolute;
            bottom: 10px;
            left: 0;
            text-align: center;
            line-height: 100px;
            font-size: 24px;
            color: #eee;
        }
    </style>
    <script src="jquery-1.7.2.min.js"></script>
    <script>
    $(function(){
      var oIn=$('#btn');
      var aIn=$('#div1 input');
      var iNow=0;
      oIn.on('click',function(){
            if(this.checked){
              aIn.each(function(index){
                aIn.eq(index).attr('checked', true);
              });
              iNow=aIn.length;
            }else{
              aIn.each(function(index){
                aIn.eq(index).attr('checked', false);
              });
              iNow=0;
            }
      });
      aIn.each(function(index){
          aIn.eq(index).on('click',function(){
            if(this.checked){
                iNow++;
            }else{
                iNow--;
            }
            if(iNow==aIn.length){
                oIn.attr('checked', true);
            }else{
                oIn.attr('checked', false);
            }
          });
      });
    });
    </script>
</head>
<body>
<div class="title">JQuery联动选择</div>
<div id="box" style="text-align:center;">
    <input type="checkbox" id="btn"/>全选
    <hr/>
    <div id="div1" style="text-align:center;">
        <input type="checkbox">
        <input type="checkbox">
        <input type="checkbox">
        <input type="checkbox">
        <input type="checkbox">
    </div>
</div>
<p class="text_intro">试试点击上边或下边的多选按钮</p>
</body>
</html>